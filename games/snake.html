<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Snake Game 2D</title>
<style>
body{
  margin:0;
  background:#0b0f1a;
  color:#fff;
  display:flex;
  flex-direction:column;
  align-items:center;
  font-family:Arial;
}
h1{margin:15px;}
canvas{
  background:#111;
  border:3px solid cyan;
}
.score{
  margin:10px;
  font-size:18px;
}
.controls{
  display:grid;
  grid-template-columns:60px 60px 60px;
  gap:10px;
  margin-top:10px;
}
.controls button{
  padding:10px;
  background:cyan;
  border:none;
  border-radius:8px;
  font-size:16px;
  cursor:pointer;
}
</style>
</head>

<body>

<h1>üêç Snake Game</h1>
<div class="score">Score: <span id="score">0</span></div>

<canvas id="game" width="400" height="400"></canvas>

<div class="controls">
  <div></div>
  <button onclick="setDir(0,-1)">‚¨Ü</button>
  <div></div>
  <button onclick="setDir(-1,0)">‚¨Ö</button>
  <button onclick="restart()">üîÑ</button>
  <button onclick="setDir(1,0)">‚û°</button>
  <div></div>
  <button onclick="setDir(0,1)">‚¨á</button>
  <div></div>
</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
const box = 20;

let snake, food, dx, dy, score, game;

function start(){
  snake = [{x:200,y:200}];
  food = spawnFood();
  dx = box;
  dy = 0;
  score = 0;
  document.getElementById("score").innerText = score;
  clearInterval(game);
  game = setInterval(draw,120);
}

function spawnFood(){
  return {
    x:Math.floor(Math.random()*20)*box,
    y:Math.floor(Math.random()*20)*box
  }
}

function draw(){
  ctx.clearRect(0,0,400,400);

  // food
  ctx.fillStyle="red";
  ctx.fillRect(food.x,food.y,box,box);

  // snake
  ctx.fillStyle="lime";
  snake.forEach(p=>ctx.fillRect(p.x,p.y,box,box));

  let head = {x:snake[0].x+dx,y:snake[0].y+dy};

  // wall or self collision
  if(
    head.x<0||head.y<0||
    head.x>=400||head.y>=400||
    snake.some(p=>p.x==head.x&&p.y==head.y)
  ){
    alert("Game Over!");
    start();
    return;
  }

  snake.unshift(head);

  if(head.x==food.x && head.y==food.y){
    score++;
    document.getElementById("score").innerText = score;
    food = spawnFood();
  }else{
    snake.pop();
  }
}

function setDir(x,y){
  if(dx==-x && dy==-y) return;
  dx=x*box;
  dy=y*box;
}

function restart(){
  start();
}

// keyboard
document.addEventListener("keydown",e=>{
  if(e.key=="ArrowUp") setDir(0,-1);
  if(e.key=="ArrowDown") setDir(0,1);
  if(e.key=="ArrowLeft") setDir(-1,0);
  if(e.key=="ArrowRight") setDir(1,0);
});

start();
</script>

</body>
</html>
