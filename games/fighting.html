<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Fighting Game | Gaming Adda</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  background: #0b1020;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  font-family: Arial, sans-serif;
  color: white;
}

.game-box {
  text-align: center;
}

canvas {
  background: linear-gradient(#222, #111);
  border: 3px solid #00f2ff;
  border-radius: 10px;
}

.controls {
  margin-top: 10px;
  font-size: 14px;
  opacity: 0.8;
}
</style>
</head>

<body>

<div class="game-box">
  <h2>ü•ä 2D Fighting Game</h2>
  <canvas id="game" width="600" height="300"></canvas>
  <div class="controls">
    Player 1: A/D = Move | W = Punch <br>
    Player 2: ‚Üê / ‚Üí = Move | ‚Üë = Punch
  </div>
</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

const p1 = { x: 100, y: 200, w: 40, h: 80, color: "#00f2ff", hp: 100 };
const p2 = { x: 460, y: 200, w: 40, h: 80, color: "#ff3c3c", hp: 100 };

const keys = {};

document.addEventListener("keydown", e => keys[e.key] = true);
document.addEventListener("keyup", e => keys[e.key] = false);

function hit(a, b) {
  return (
    a.x < b.x + b.w &&
    a.x + a.w > b.x &&
    a.y < b.y + b.h &&
    a.y + a.h > b.y
  );
}

function update() {
  // Player 1
  if (keys["a"]) p1.x -= 4;
  if (keys["d"]) p1.x += 4;
  if (keys["w"] && hit(p1, p2)) p2.hp -= 1;

  // Player 2
  if (keys["ArrowLeft"]) p2.x -= 4;
  if (keys["ArrowRight"]) p2.x += 4;
  if (keys["ArrowUp"] && hit(p2, p1)) p1.hp -= 1;

  p1.x = Math.max(0, Math.min(canvas.width - p1.w, p1.x));
  p2.x = Math.max(0, Math.min(canvas.width - p2.w, p2.x));
}

function draw() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  ctx.fillStyle = p1.color;
  ctx.fillRect(p1.x, p1.y, p1.w, p1.h);

  ctx.fillStyle = p2.color;
  ctx.fillRect(p2.x, p2.y, p2.w, p2.h);

  // Health bars
  ctx.fillStyle = "#00f2ff";
  ctx.fillRect(20, 20, p1.hp * 2, 10);

  ctx.fillStyle = "#ff3c3c";
  ctx.fillRect(360, 20, p2.hp * 2, 10);

  if (p1.hp <= 0 || p2.hp <= 0) {
    ctx.fillStyle = "white";
    ctx.font = "30px Arial";
    ctx.fillText(
      p1.hp <= 0 ? "Player 2 Wins!" : "Player 1 Wins!",
      180, 160
    );
    return;
  }

  requestAnimationFrame(loop);
}

function loop() {
  update();
  draw();
}

loop();
</script>

</body>
</html>
